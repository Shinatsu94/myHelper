7
- 正確性: 0/50
- 邏輯: 0/30
- 格式: 7/10
- 備註: 0/10
總分: 7/100

以下為依題意改寫與優化後的完整程式碼與說明。

修改後程式碼（完整 Java 程式）：
/*
  檔案名稱: LeibnizPi.java
  功能: 計算勒讓得級數近似的圓周率
        (a) 輸出 i = 10000,20000,...,100000 對應的 pi 值，格式符合題目要求
        (b) 找出最小的 i 使 pi 四捨五入到小數第 5 位等於 3.14159，並輸出該 i
  作者: 教師
  日期: 2025-11-12
  內容說明: 使用單次遍歷逐步累加，避免重複計算；輸出格式使用字串格式化以滿足題目規範
*/
public class LeibnizPi {
    public static void main(String[] args) {
        final int maxI = 200000; // 需超過 136121，以確保能找到最小 i
        final int step = 10000;

        double sum = 0.0;

        // (a) 輸出 i = 10000,20000,...,100000 的 pi 值
        for (int i = 1; i <= maxI; i++) {
            double term = ((i & 1) == 1) ? 1.0 / (2.0 * i - 1.0) : -1.0 / (2.0 * i - 1.0);
            sum += term;
            if (i % step == 0 && i <= 100000) {
                double pi = 4.0 * sum;
                System.out.printf("i = %6d, pi = %.10f%n", i, pi);
            }
        }

        // (b) 找出最小的 i 使 pi 四捨五入到 5 位小數等於 3.14159
        sum = 0.0;
        int resultI = -1;
        for (int i = 1; i <= maxI; i++) {
            double term = ((i & 1) == 1) ? 1.0 / (2.0 * i - 1.0) : -1.0 / (2.0 * i - 1.0);
            sum += term;
            double pi = 4.0 * sum;
            long rounded = Math.round(pi * 100000.0); // 四捨五入到小數第 5 位
            if (rounded == 314159) { // 3.14159 * 100000
                resultI = i;
                break;
            }
        }
        System.out.println("i = " + resultI);
    }
}

修改原因與說明：
- 移除不必要的輸入（原學生程式使用 Scanner 讀入整數，但題目並未提供輸入，且需求是輸出固定的 i 序列與結果）。
- 以單一遍遍歷累加勒讓得級數，逐步更新 pi，避免在每個 i 重計前面所有項，提升效率。
- 依題意使用格式化輸出，確保 i 輸出寬度為 6 位，pi 輸出小數點後 10 位，並在滿足條件時逐步輸出。
- 為找到最小的 i 使 pi 四捨五入到 5 位小數等於 3.14159，重新遍歷或重新計算以避免累積誤差影響判定；此處採用累加並在每步檢查四捨五入結果的方式，確保正確性。
- 程式中加入適當註解與清晰的變數命名，提升可讀性與維護性。

改善建議（英文一句話版）：
- 直接依題意實作並使用字串格式化以嚴格符合輸出格式與需求，避免與題目不符的輸入輸出。
