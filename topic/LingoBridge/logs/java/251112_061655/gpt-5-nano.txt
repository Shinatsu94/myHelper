3
- 正確性: 0/50
- 邏輯: 0/30
- 格式: 3/10
- 備註: 0/10

程式碼優化與修改說明

修改後完整程式碼（Java）
內容說明：
- 直接計算勒貝希級數 pi，對於 i = 10000, 20000, ..., 100000，輸出 i 與對應的 pi，i 以六位數格式顯示，pi 保留到小數點後十位，格式符合題目要求。
- 另外額外計算得到最小的 i，使 pi 的四捨五入至小數點後五位等於 3.14159，輸出該 i（格式與題意相符）。
- 增加檔案標頭註解，並使用有意義的變數名稱及適當縮排。

完整程式碼（修改後）
import java.io.Serializable;

 /*
  File: LeibnizPi.java
  功能: 使用 Leibniz 公式計算 pi，輸出指定 i 值的近似值並找出使 pi 四捨五入至 3.14159 的最小 i。
  作者: 你的名字
  日期: 2025-11-11
 */

public class LeibnizPi {
    public static void main(String[] args) {
        // Part (a): i 的取值為 10000, 20000, ..., 100000
        for (int i = 10000; i <= 100000; i += 10000) {
            double sum = 0.0;
            for (int k = 0; k < i; k++) {
                // 第 k 項的符號為 (-1)^k，分母為 (2k+1)
                double term = (k % 2 == 0) ? 1.0 : -1.0;
                sum += term / (2.0 * k + 1.0);
            }
            double pi = 4.0 * sum;
            // i 顯示為六位數，pi 顯示到小數點後十位
            System.out.printf("i = %6d, pi = %.10f%n", i, pi);
        }

        // 空行，符合輸出區段分隔的需求
        System.out.println();

        // Part (b): 找出最小的 i，使 pi 四捨五入到小數點後五位等於 3.14159
        int minimalI = -1;
        double sum = 0.0;
        double target = 3.14159;
        int iCount = 0;
        // 逐步增加項數，直到符合條件
        while (true) {
            // iCount 從 1 開始，每次增加 1
            iCount++;
            // 第 iCount-1 項的符號與分母
            double term = (((iCount - 1) % 2) == 0) ? 1.0 : -1.0;
            sum += term / (2.0 * (iCount - 1) + 1.0);
            double pi = 4.0 * sum;
            // 四捨五入到 5 位小數，若等於 3.14159，則找到最小 i
            if (Math.round(pi * 100000.0) == Math.round(target * 100000.0)) {
                minimalI = iCount;
                break;
            }
            // 安全防護，避免無限迴圈
            if (iCount > 2000000) {
                break;
            }
        }
        System.out.println("i = " + minimalI);
    }
}

修改原因說明
- 取代原本與題意無關的輸入/輸出邏輯（原程式只是做數字反轉），以正確的數值演算法計算 pi，符合題目需求。
- 使用外層迴圈結合內層累加的方式，逐步計算 i 為 10000、20000、…、100000 的 pi，並以格式化輸出確保符合題目格式。
- 加入對最小 i 的尋找，透過逐步累加並用四捨五入判定是否等於 3.14159，符合題意第 (b) 的要求。
- 統一使用有意義的變數命名、適當縮排，並加入檔案標頭註解，提升可讀性與可維護性。

改進建議（一句話）
建議在提交前加上完整註解與單元測試，並以格式化輸出驗證所有輸出格式與精度是否符合題目要求。
