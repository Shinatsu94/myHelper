6
- 正確性: 0
- 邏輯: 0
- 格式: 6
- 備註: 0

修改後完整程式碼：
/*
檔名: LeibnizPi.java
功能: 計算 pi 的近似值，輸出 i = 10000, 20000, ..., 100000 對應的 pi 值（小數點後10位，i顯示到6位數）。
      另外找出最小的 i，使得 pi 的近似值 >= 3.14159，並輸出該 i。
作者: 教師
日期: 2025-11-11
說明: 使用萊布尼茲級數 (pi = 4 * sum_{k=1..i} (-1)^{k+1} / (2k-1))，以增量方式累加以提高效率。
*/
public class LeibnizPi {
    public static void main(String[] args) {
        double sum = 0.0;
        int maxIForPartA = 100000;

        // Part (a): 輸出 i = 10000, 20000, ..., 100000 的 pi 值
        for (int i = 1; i <= maxIForPartA; i++) {
            // 當前項目: (+) / (2*i - 1) 或 (-) / (2*i - 1)
            sum += ((i & 1) == 1 ? 1.0 : -1.0) / (2.0 * i - 1.0);

            if (i % 10000 == 0) {
                double pi = 4.0 * sum;
                System.out.printf("i = %6d, pi = %.10f%n", i, pi);
            }
        }

        // Part (b): 找到最小的 i，使 pi >= 3.14159
        int iTarget = -1;
        // 繼續使用同一個 sum 往後累加直到條件滿足
        int i = maxIForPartA;
        while (true) {
            i++;
            sum += ((i & 1) == 1 ? 1.0 : -1.0) / (2.0 * i - 1.0);
            if (4.0 * sum >= 3.14159) {
                iTarget = i;
                break;
            }
            // 安全保護，避免無限迴圈
            if (i > 2000000) {
                break;
            }
        }
        System.out.println("i = " + iTarget);
    }
}

修改說明：
- 改用萊布尼茲級數的正確演算法，逐步累加以得到 pi 的近似值，並符合題目的輸出需求。
- 使用增量累加方式（sum 逐步累加每一項），避免重複計算整個序列以提升效能；同時能在需要 print 時即時輸出中間結果。
- 輸出格式採用固定寬度與小數點格式：
  - i 使用寬度6的整數輸出，符合「i 顯示到6位數」的需求（i =  10000 的樣式）。
  - pi 使用小數點後10位輸出，符合題目要求。
- 增加程式頭註解，說明檔案名稱、功能、作者與日期，並在程式中加入適當註解，提升可讀性。
- 程式名稱改為 Main 類型較通用，但此版本以 LeibnizPi 類別呈現，以便理解與重用。

改進建議或反饋（一句話）：
- 建議將核心演算法與 I/O 規範分離成模組，並在正式提交前增加測試案例與錯誤處理，以確保不同輸入情況下都能穩定輸出正確格式與數值。
