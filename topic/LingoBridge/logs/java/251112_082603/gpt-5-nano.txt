2

評分與批改要點
- 正確性 (50%): 0/50
  - 作業需求是計算 Leopniz 級數近似的 pi，並輸出指定格式與最小 i 值；學生程式與題目毫無關聯，僅作「是否為整數結構正整序」等判定，未實作題目需求。故正確性給分為 0。
- 邏輯 (30%): 0/30
  - 以顯示「well-ordered number」等邏輯與題意嚴重不符，缺乏解題邏輯與可讀性。故邏輯給分為 0。
- 格式 (10%): 2/10
  - 程式碼有基本的 Java 結構與註解雜亂，命名不符合慣例，且與題目輸出格式無關。給予少量分數以肯定有基本可讀性，但需大幅改寫以符合題意。故格式給分為 2。
- 備註 (10%): 0/10
  - 原始檔案缺乏清楚的程式標頭註解與說明，未說明檔名、功能、作者、日期等。故備註為 0。

總分：2

修改後完整程式碼與修改說明
以下提供重構後的完整 Java 程式，符合題目要求：
- 針對 (a) 輸出 i=10000, 20000, ..., 100000 時，pi 的近似值，pi 為小數點後 10 位，i 以寬度 6 顯示。
- 針對 (b) 找出最小的 i，使近似的 pi 四捨五入到小數點後 5 位等於 3.14159，並輸出該最小 i。

程式說明要點
- 使用 Leibniz 級數逐項累加，效率足以處理到 100000 項。
- 輸出格式使用寬度控制，符合題目指定的對齊需求。
- 第三部分透過逐步累加並以四捨五入至 5 位判定是否等於 3.14159，得到最小的 i。

完整程式碼：

import java.util.Locale;

public class LeibnizPi {
    public static void main(String[] args) {
        Locale.setDefault(Locale.US);

        // (a) 依序輸出 i = 10000, 20000, ..., 100000 的 pi 近似值
        double sum = 0.0;
        for (int i = 1; i <= 100000; i++) {
            // 第 i 項的符號為 (+)^(i-1)，分母為 (2*i - 1)
            double term = ((i % 2 == 1) ? 1.0 : -1.0) / (2.0 * i - 1);
            sum += term;
            if (i % 10000 == 0) {
                double piEst = 4.0 * sum;
                System.out.printf("i = %6d, pi = %.10f%n", i, piEst);
            }
        }

        // (b) 找到最小的 i，使 pi 的近似四捨五入到小數第5位等於 3.14159
        sum = 0.0;
        int i = 0;
        int minI = -1;
        // 設一個合理的上限以防無限迴圈；實務上此問題有確定解
        int upperLimit = 2000000;
        while (i < upperLimit) {
            i++;
            double term = ((i % 2 == 1) ? 1.0 : -1.0) / (2.0 * i - 1);
            sum += term;
            double piEst = 4.0 * sum;
            // 四捨五入到小數點第5位
            if (Math.round(piEst * 1e5) == 314159) {
                minI = i;
                break;
            }
        }

        // 輸出最小的 i 值
        System.out.println("i = " + minI);
    }
}

修改原因與重點
- 需求導向：原學生程式與題目需求脫節，無法輸出指定的 i 與 pi 近似值，因此需要重新實作核心演算法與輸出格式。
- 演算法清晰化：改用單一循環逐項累加 Leibniz 級數，直接得到 pi 的近似；對於 (b) 節，採用逐步累加並以四捨五入判定 5 位小數是否等於 3.14159，以保證符合題意。
- 輸出格式符合題目：使用寬度控制輸出 i 的顯示位數（width = 6），pi 保留 10 位小數，並於結尾輸出最小 i 值。
- 可讀性與維護性提升：統一命名、加入 Locale 設定避免小數點區域差異、並提供清晰註解。

一句話改進建議
- 建議在上線前加入單元測試，驗證不同 n 值得到的 pi 近似與最小 i 的正確性，並在程式中加入更完整的註解與錯誤處理，以增強可維護性與擴充性。
