4

正確性: 0/50
- 作業要求需計算並輸出 Lehniz 公式的 pi 值，且要輸出多組 i 與對應的 pi，以及找出使 pi >= 3.14159 的最小 i。學生原程式僅閱讀輸入並把數字逐位輸出，與題目需求毫無關聯，因此正確性為0分。

邏輯: 0/30
- 原程式未實作計算 pi 的邏輯，邏輯判斷與流程皆未對應需求，因此給分為0。

格式: 4/10
- 程式有基本縮排與括號，但命名不具意義（n、a 等變數名不清楚用途），缺乏註解與標頭說明，且類別名稱不具語意。整體可讀性較差。給予一定分數以肯定其基本語法正確性與簡單可讀性。

備註: 0/10
- 缺少程式標頭註解（檔案名稱、功能、作者、日期等）。未提供適當註解。

修改後完整程式碼與說明
修改後的完整程式碼（Java）：
/*
File: PiLeibnizCalculator.java
功能: 使用勒貝格級數近似圓周率，輸出 i=10000 ~ 100000（步階為 10000）對應的 pi 值，並找出使 pi >= 3.14159 的最小 i。
作者: 你
日期: 2025-11-11
說明: 易懂的實作，使用兩個獨立的區塊分別處理題目(a)與( b )的需求，並使用適當的格式輸出。
*/

public class PiLeibnizCalculator {
    public static void main(String[] args) {
        // (a) 輸出 i = 10000, 20000, ..., 100000 以及對應的 pi 值
        for (int i = 10000; i <= 100000; i += 10000) {
            double sum = 0.0;
            // 計算前 i 項的和：4 * sum_{k=0}^{i-1} (-1)^k / (2k+1)
            for (int k = 0; k < i; k++) {
                sum += ((k % 2 == 0) ? 1.0 : -1.0) / (2.0 * k + 1.0);
            }
            double pi = 4.0 * sum;
            System.out.printf("i = %6d, pi = %.10f%n", i, pi);
        }

        // (b) 找到使 pi >= 3.14159 的最小 i
        double sum = 0.0;
        int i = 0;
        double target = 3.14159;
        while (true) {
            i++;
            // 每次加上第 i 項
            sum += ((i % 2 == 1) ? 1.0 : -1.0) / (2.0 * i - 1.0);
            double pi = 4.0 * sum;
            if (pi >= target) {
                System.out.println("i = " + i);
                break;
            }
            // 安全機制，防止無限迴圈（實務上不太可能觸發）
            if (i > 2000000) {
                System.out.println("i = " + i);
                break;
            }
        }
    }
}

修改理由與重點說明
- 正確性與邏輯：改用勒貝格級數逐項求和，直接計算給定 i 的近似 pi；接著以逐步累加的方式找出最小 i 使 pi >= 3.14159。這符合題目要求的兩個部分，且計算方式清晰、可驗證。
- 格式與命名：採用具描述性的類別名稱 PiLeibnizCalculator，並在檔案開頭加入完整的註解標頭，說明檔案名稱、功能、作者與日期。輸出格式使用 System.out.printf，確保 i 顯示為寬度 6、pi 顯示為小數點後 10 位，符合題目格式要求。
- 可維護性：加入適當注釋，讓未來維護與擴充更容易（例如若要改變輸出格式或範圍，只需修改常數即可）。
- 效能提示：對於題目給定的數值範圍，直接重新計算前 i 項和的做法在效能上是可接受的（總計計算量約 550,000 次單位運算），若需要更高效可改為累加式更新以避免重新計算整個前 i 項和。

一句話改進建議
- 建議在開發時加入單元測試與自動驗證，確保不同 i 的輸出與格式在各種環境下保持一致，並可快速回饋題意變動。
