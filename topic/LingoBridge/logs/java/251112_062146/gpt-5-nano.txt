6

評分與批改說明
- 正確性(50%): 0/50
  - 作業要求是實作 Leibniz 公式的計算並輸出指定格式的結果；原學生提交的程式與題意毫無關聯，僅做數字反轉，未能解題。
- 邏輯(30%): 0/30
  - 程式邏輯與題意嚴重不符，未呈現任何與 pi 近似相關的演算流程。
- 格式(10%): 6/10
  - 程式有基本的縮排與結構，但變數命名不具描述性，且缺乏適當的註解與標頭說明，雖能編譯執行但較難維護。
- 備註(10%): 0/10
  - 缺乏檔案說明註解（檔名、功能、作者、日期等）。

修改後完整程式碼與改動說明
以下提供符合題意的完整 Java 程式，包含 header 註解、兩部份輸出格式，並採用適當的格式化輸出以符合題目要求。

/**
 * File: LeibnizPiCalculator.java
 * 功能: 計算 pi 的黎曼級數近似，輸出第 a 部分的 i 與 pi 值，以及第 b 部分最小 i。
 * 作者: 教授
 * 日期: 2025-11-11
 */
public class LeibnizPiCalculator {
    public static void main(String[] args) {
        // Part (a): 逐次輸出 n = 10000, 20000, ..., 100000 的 pi 值
        for (int n = 10000; n <= 100000; n += 10000) {
            double sum = 0.0;
            int sign = 1;
            for (int k = 0; k < n; k++) {
                sum += sign * (1.0 / (2 * k + 1));
                sign = -sign;
            }
            double pi = 4.0 * sum;
            // i 使用 6 位寬度對齊，pi 小數點後 10 位
            System.out.printf("i = %6d, pi = %.10f%n", n, pi);
        }

        System.out.println();

        // Part (b): 找出最小的 n，使 pi 四捨五入到小數點後五位等於 3.14159
        double sumB = 0.0;
        int signB = 1;
        int nB = 0;
        while (true) {
            nB++;
            sumB += signB * (1.0 / (2 * (nB - 1) + 1));
            signB = -signB;
            double pi = 4.0 * sumB;
            // 四捨五入到五位小數，若等於 3.14159 則為找到的最小 n
            if (Math.round(pi * 100000.0) == 314159) {
                System.out.println("i = " + nB);
                break;
            }
            // 安全上限以避免無限迴圈
            if (nB > 2000000) {
                System.out.println("i = " + nB);
                break;
            }
        }
    }
}

修改原因與重點
- 針對題目需求改寫：原始程式與題目無關，必須實作 Lehibniz 級數的 pi 近似與指定輸出格式，因此重新設計整個流程。
- 漸進式計算：對於 n 為 10000 的多個值，使用逐項相加的方式累積 sum，避免不必要的數值錯誤與複雜度。
- 輸出格式化：使用 printf 以滿足「i 顯示為六位對齊、pi 顯示十位小數」的輸出需求，與題目示例相符。
- 部分 (b) 的最小 n：利用逐項累加並檢查 pi 四捨五入結果是否等於 3.14159（實作為乘以 100000 後取整數比較 314159），確保取得最小的 n。
- 程式結構與可擴充性：將兩部分分開逐步實作，讓後續若需修改輸出格式或精度，能更容易維護。

改進建議（一句話）
- 建議將核心計算分成方法並加上單元測試，同時保持輸出格式與題目需求，提升可維護性與可測試性。
