80

修改後完整程式碼（已完成優化與註解，並符合題目輸出格式）：

/*
檔案名稱: PiLeibniz.java
功能: 使用 Leibniz級數近似圓周率，輸出 i=10000,20000,...,100000 的 pi 值，pi 輸出到小數點後10位，i 顯示寬度為6。同時找出最小的 i，使 pi 的估計落在區間 [3.14159, 3.14160) 內，並以 "i = <值>" 輸出。
作者: 教師
日期: 2025-11-11
*/
public class PiLeibniz {
    public static void main(String[] args) {
        final int MAX_J = 100000;
        final int STEP = 10000;

        // 統一累計，避免重複整體重算，提高效率
        double pi = 0.0;
        int sign = 1;
        for (int j = 1; j <= MAX_J; j++) {
            pi += 4.0 * sign / (2 * j - 1);
            sign = -sign;
            // 輸出格式：i =  10000, pi = 3.1414926536（i 欄位寬度為6，以符合對齊需求）
            if (j % STEP == 0) {
                System.out.printf("i = %6d, pi = %.10f%n", j, pi);
            }
        }

        // 找出最小的 i，使 pi 的估計落在區間 [3.14159, 3.14160) 內
        double lower = 3.14159;
        double upper = 3.14160;
        double s = 0.0;
        int a = 1;
        int i = 0;
        while (s <= lower || s >= upper) {
            i++;
            s += 4.0 * a / (2 * i - 1);
            a = -a;
        }

        // 顯示結果，先留一空行，再輸出最小的 i 值
        System.out.println();
        System.out.printf("i = %d%n", i);
    }
}

修改說明與重點改動原因：
- 結構與效率
  - 將原本對每個 j 重新從頭計算 s 的做法，改成單一循環累計迭代，逐步計算 pi，並在每個 STEP 時輸出。重複計算的時間成本因此降低，大幅提升效率，尤其當 j 增大時。
- 輸出格式與對齊
  - 使用 System.out.printf("i = %6d, pi = %.10f%n", j, pi) 來統一輸出格式，i 的欄位寬度設為6，能讓 5 位與 6 位數的 i 值對齊；符合題目要求「i 显示到6位數」與示例輸出風格。
- 程式命名與可讀性
  - 類別名稱改為 PiLeibniz，較符合 Java 命名慣例（PascalCase，避免過長的下劃線命名）。
  - 增加前置註解區塊，說明檔案名稱、功能、作者與日期，符合「備註」需求。
- 註解與可維護性
  - 增加程式內部簡要註解，說明核心邏輯與輸出格式的用意，方便日後維護與批改。
- 兼容性與穩定性
  - 保持 pi 的計算使用 double 精度與 10 位小數輸出，符合題目輸出格式要求，且不改變原算法的正確性。

改進建議（一句話）：
- 建議在日後作業中，採用單一累計迴圈搭配統一的輸出格式，並加上完整註解與清晰的命名，提升可讀性與執行效率，同時避免重複計算造成的時間浪費。
