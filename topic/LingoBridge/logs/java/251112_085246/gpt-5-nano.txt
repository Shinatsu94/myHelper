12

- 正確性(50%): 0/50
- 邏輯(30%): 0/30
- 格式(10%): 7/10
- 備註(10%): 5/10
- 總分: 12/100

修改與建議說明
- 問題理解與作業要求的落差：原有學生程式僅實作了數字反轉，與題目「用 Leibniz 公式近似圓周率並輸出指定格式」完全無關，因此正確性與邏輯評分皆為0。格式與註解部分仍有可取之處，因此給予部分分數。
- 修改重點與原因：
  - 重新實作成一個可完整解題的 Java 程式，涵蓋 (a) 逐步輸出 i = 10000, 20000, ..., 100000 對應的 pi 值，以及 (b) 找出使 pi 至少在小數點後五位達到 3.14159 的最小 i。
  - 使用權威的 Leibniz 式 pi 近似：pi = 4 * sum_{k=0}^{i-1} (-1)^k / (2k+1)，其中 i 為項數。
  - 輸出格式：i 顯示為寬度 6，pi 顯示到小數點後 10 位，符合題目的格式要求；整體輸出改為單行字串分隔、適當換行。
  - (b) 最小 i 的判定方式：改用先計算 pi_i，並以四捨五入至小數點後五位的方式判定是否等於 3.14159，這符合題意中「pi >= 3.14159」的隱含需求與示例值。
- 修改後的完整程式碼如下（已優化為可直接執行，並附上清楚註解）：

public class LeibnizPi {
    /*
     File: LeibnizPi.java
     功能: 使用 Leiniz 式近似 pi，輸出 i 為 10000, 20000, ..., 100000 時的 pi 值，
           並找出第一個使 pi 的五位小數為 3.14159 的最小 i。
     作者: 你
     日期: 2025-11-12
    */

    public static void main(String[] args) {
        // (a) 輸出 i 循環結果
        for (int i = 10000; i <= 100000; i += 10000) {
            double pi = computePi(i);
            System.out.printf("i = %6d, pi = %.10f%n", i, pi);
        }

        // (b) 找出使 pi 的小數點後五位等於 3.14159 的最小 i
        int i = 1;
        while (true) {
            double pi = computePi(i);
            // 四捨五入到小數點後五位，判定是否等於 3.14159
            double rounded = Math.round(pi * 100000.0) / 100000.0;
            if (rounded == 3.14159) {
                break;
            }
            i++;
            // 為避免無窮迴圈，實務上通常不會遇到，但此處以保守策略
            if (i > 2000000) {
                System.out.println("未在合理範圍找到符合條件的 i。");
                break;
            }
        }
        System.out.println("i = " + i);
    }

    // 計算 pi 的近似值，使用 i 項
    private static double computePi(int terms) {
        double sum = 0.0;
        int sign = 1;
        for (int k = 0; k < terms; k++) {
            sum += sign * 1.0 / (2 * k + 1);
            sign = -sign;
        }
        return 4.0 * sum;
    }
}

修改該部分的原因
- 以正確的數學方法實作題意要求，從而得到正確的輸出與判斷結果。
- 使用格式化輸出確保「i 顯示到6位數」與「pi 顯示到小數點後 10 位」符合規格。
- 將支援性強的計算與輸出分離成 clear 的函式（computePi），提高可讀性與維護性。

一句話改進建議
- 建議在實作前先確認題意的細節與輸出格式，並在關鍵部分加入單元測試，例如檢驗固定 i 的輸出與對於 3.14159 的最小 i 判定邏輯，提升正確性與健壮性。
