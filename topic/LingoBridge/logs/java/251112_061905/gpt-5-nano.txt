3

評分分項
- 正確性：0/50
- 邏輯：0/30
- 格式：3/10
- 備註：0/10
總分：3/100

修改與優化說明
- 問題屬性：原程式與題意不符，未計算 Leibniz 公式、也未輸出指定格式與最小 i。改為提供一份可正確輸出題目指定結果的實作。
- 主要變動點：
  - 移除輸入依賴，改用單程式運算直接輸出要求的結果。
  - 使用腦海中的勒布尼茲公式逐項累加，i 表示項數，公式為 pi ≈ 4 * sum_{k=1..i} (-1)^(k-1) / (2k-1)。
  - 對 i = 10000, 20000, …, 100000 逐步輸出 pi，格式化輸出符合要求：i 以寬度 6 欄右對齊，pi 顯示小數點後 10 位。
  - 為求得 pi=3.14159 的最小 i，從 i=1 逐步累加直到近似值四捨五入後恰好等於 3.14159，再輸出該 i。為避免重新計算，仍以同樣的累加方式進行。
  - 加入清楚的程式註解與適當的變數命名，並確保輸出格式與字元間距符合題意中“i =  10000, pi = 3.1414926536”這類格式的對齊。

修改後完整程式碼（Java）
public class LeibnizPiDemo {
    /*
     * 檔案名稱: LeibnizPiDemo.java
     * 功能說明: 使用勒布尼茲公式計算 pi 的近似值，輸出 i=10000,20000,...,100000 時的 pi 值，並找出使 pi 四捨五入至小數點第六位前第六位為 3.14159 的最小 i。
     * 作者: 你的姓名
     * 日期: 2025-11-11
     * 備註: 不接受輸入，直接輸出結果
     */
    public static void main(String[] args) {
        // 1) 輸出 i = 10000, 20000, ..., 100000 的 pi 值，格式符合題意
        int maxI = 100000;
        double sum = 0.0; // Leibniz 部分和，未乘以 4
        int printStep = 10000;
        for (int i = 1; i <= maxI; i++) {
            // 第 i 項：正負交替，分母為 (2*i - 1)
            double term = ((i % 2 == 1) ? 1.0 : -1.0) / (2.0 * i - 1.0);
            sum += term;
            if (i % printStep == 0) {
                double pi = 4.0 * sum;
                // i 以寬度 6 右對齊，pi 保留小數點後 10 位
                System.out.printf("i = %6d, pi = %.10f%n", i, pi);
            }
        }

        // 2) 找出使 pi 四捨五入至小數點後五位等於 3.14159 的最小 i
        sum = 0.0;
        double target = 3.14159;
        int foundI = -1;
        // 允許的最大範圍，保守設計以防無窮迴圈
        int limit = 2000000;
        for (int i = 1; i <= limit; i++) {
            double term = ((i % 2 == 1) ? 1.0 : -1.0) / (2.0 * i - 1.0);
            sum += term;
            double pi = 4.0 * sum;
            // 以五位小數四捨五入後與 target 比較
            double rounded = Math.round(pi * 100000.0) / 100000.0;
            if (rounded == target) {
                foundI = i;
                break;
            }
        }

        // 輸出最小 i
        System.out.println("i = " + String.format("%6d", foundI));
    }
}

說明改進的原因
- 直接依題意實作勒布尼茲公式，避免原程式的與題目無關的資料處理與輸出。
- 使用逐項累加的方式可有效控制數值穩定性與可讀性，並方便實作對齊格式。
- 採用 printf 圧縮格式，確保 i 的寬度與 pi 的小數位數均符合題目要求的對齊與精度。

改進建議或反饋（一句話）
建議未來在提交作業時，先把題意轉換成可執行步驟與輸出格式的對應程式骨架，逐步實作與驗證，以避免「答案與題意不符」的基本錯誤。
