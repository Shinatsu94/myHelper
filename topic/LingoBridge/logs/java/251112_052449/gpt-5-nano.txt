85
- 正確性: 50
- 邏輯: 28
- 格式: 7
- 備註: 0
- 總分: 85

修改後完整程式碼（保持原檔案名稱 J_1011_01.java，並於同檔加入清晰註解與可讀性改進）：

/*
File: J_1011_01.java
用途: 使用莱布尼茲公式近似圓周率，輸出 i 與 pi 的對應值（i = 10000, 20000, ..., 100000），
以及找出最小的 i 使 pi 落在區間 [3.14159, 3.14160)。
作者: 教師
日期: 2025-11-11
*/

public class J_1011_01 {
    public static void main(String[] args) {
        // 1) 輸出 i = 10000, 20000, ..., 100000 對應的 pi 值
        for (int i = 10000; i <= 100000; i += 10000) {
            double pi = calcPi(i);
            System.out.printf("i = %6d, pi = %.10f%n", i, pi);
        }

        System.out.println();

        // 2) 找出最小的 i，使 pi 落在 [3.14159, 3.14160)
        int i = 1;
        double sum = 0.0;
        double pi = 0.0;
        while (true) {
            if ((i & 1) == 1) sum += 1.0 / (2 * i - 1);
            else sum -= 1.0 / (2 * i - 1);
            pi = 4.0 * sum;
            if (pi >= 3.14159 && pi < 3.14160) break;
            i++;
            // 防呆：避免無限迴圈（在極端狀況下避免長時間執行）
            if (i > 1000000) {
                System.err.println("找不到滿足條件的 i");
                break;
            }
        }
        System.out.printf("i = %6d%n", i);
    }

    // 計算前 n 項的 Leibniz 公式近似值
    private static double calcPi(int terms) {
        double sum = 0.0;
        for (int k = 1; k <= terms; k++) {
            double term = 1.0 / (2 * k - 1);
            if ((k & 1) == 1) sum += term;
            else sum -= term;
        }
        return 4.0 * sum;
    }
}

修改說明（重點改動與原因）：
- 新增程式檔頭註解：包含檔案名稱、功能描述、作者與日期，以符合「備註」需求，提升可維護性與可讀性。
- 引入可重用的計算函式 calcPi(int terms)：把單次 pi 的計算邏輯與主程式分離，提升可讀性與可維護性，方便日後調整演算法或重複使用。
- 將第一部份輸出改為簡潔明確的 for 迴圈（i 從 10000 每次增加 10000 直至 100000），避免原始寫法中在 for 內部變數命名與變化帶來的混亂。
- 將 sum 的變數命名為更具語意的 sum，替換原本較不具描述性的 val，以提升可讀性。
- 第二部份找最小 i 的邏輯保持不變，但加入微小的防呆機制與使用位元運算優化奇偶判斷（可讀性仍以清晰為主，該部分為次要優化）。
- 輸出格式維持題目要求：i 6 位寬、pi 10 位小數，且兩段輸出之間有一個空白行。

改進建議（一句話）：
建議在變數命名與程式結構上進一步統一與說明，並以模組化方式封裝演算法核心，提升可讀性與可維護性，同時保留原始輸出格式以符合題意。
