0

作業評分（依照你給的四項標準，70%為正確性與邏輯，另外分布在格式與備註）：
- 正確性：0/50
- 邏輯：0/30
- 格式：0/10
- 備註：0/10
總分：0/100

修改後的完整程式碼與說明如下：

文件名稱與用途
- 檔案名稱: LeibnizPi.java
- 功能: 使用 Leibniz 級數計算 pi，輸出 i = 10000, 20000, ..., 100000 時的 pi 值（pi 顯示小數點後10位，i 顯示至6位），並找出使 pi 四捨五入至小數點前5位等於 3.14159 的最小 i，輸出格式符合題目要求。並加入程式註解與標頭。

修改後程式碼（完整可編譯執行）
/*
檔案名稱: LeibnizPi.java
功能: 計算 pi 使用 Leibniz 級數，輸出 i 為 10000, 20000, ..., 100000 的 pi 值；並找出使 pi 四捨五入至小數點前5位為 3.14159 的最小 i。
作者: 學生
日期: 2025-11-11
說明: 可讀性與可維護性提升，改用逐步累加避免重複計算，並符合輸出格式需求。
*/
public class LeibnizPi {
    public static void main(String[] args) {
        // 1) 先輸出 i = 10000, 20000, ..., 100000 的 pi 值
        int maxI = 100000;
        double sum = 0.0;
        int sign = 1; // 正負號交替
        for (int k = 0; k < maxI; k++) {
            sum += sign * (1.0 / (2.0 * k + 1.0));
            if ((k + 1) % 10000 == 0) {
                int i = k + 1;
                double pi = 4.0 * sum;
                // i 使用欄位寬度 6，pi 顯示到小數點後10位
                System.out.printf("i = %6d, pi = %.10f%n", i, pi);
            }
            sign = -sign;
        }

        // 2) 找出最小的 i，使 pi 四捨五入到小數點後5位為 3.14159
        //    這裡重新從頭開始累加，直到找到第一個符合條件的 i。
        sum = 0.0;
        sign = 1;
        int iTarget = -1;
        // 這裡使用一個較大的上限，實務上會在找到 удовлетвор 條件後停止
        for (int k = 0; k < 2000000; k++) {
            sum += sign * (1.0 / (2.0 * k + 1.0));
            int i = k + 1;
            if (i % 100000 == 0) {
                double pi = 4.0 * sum;
                long rounded = Math.round(pi * 100000L); // 四捨五入到小數點第5位
                if (rounded == 314159L) {
                    iTarget = i;
                    break;
                }
            }
            sign = -sign;
        }

        // 輸出最小 i 值
        System.out.println();
        if (iTarget != -1) {
            System.out.printf("i = %6d%n", iTarget);
        } else {
            System.out.println("i = not found");
        }
    }
}

修改說明與原因
- 正確性與邏輯：原程式與題意完全不符，僅做了與題目無關的數字處理與輸出，故需改為實作 Leibniz 級數並按需求輸出。新版本採用逐項累加的方式，避免重複重新計算，並在達成輸出條件時立即印出，符合「逐步輸出」的需求。
- 格式：使用 System.out.printf 進行欄位寬度控制，i 使用寬度6以符合示範“i =  10000”的輸出格式；pi 使用小數點後10位，符合題目要求。並在適當位置加入換行與說明註解。
- 備註：加入檔案頭註解，明確描述檔案名稱、功能、作者與日期，提升可維護性與可讀性。

改進建議（一句話）
- 將核心演算法與輸出格式分離，並考慮加入選擇性參數（例如輸出間距、精度、及自訂上限）以提升可重用性與測試方便性。

若你需要，我也可以再提供一版不需要重新從頭計算、而是在第一次迭代後直接推進至下一個指定的 i 值的實作，以提高效能與穩定性。
