0
評分明細:
- 正確性: 0/50
- 邏輯: 0/30
- 格式: 0/10
- 備註: 0/10
合計: 0/100

修改後程式碼與說明
修改後完整程式碼
/*
Filename: LeibnizPi.java
功能: 計算勒貝格斯級數近似圓周率，輸出 i=10000,20000,...,100000 每行的 pi 值
作者: 教師
日期: 2025-11-11
說明: 使用累積方式逐步增加計算項數，避免重複從頭計算，提高效率；輸出格式符合題目要求，i 為六位寬度，pi 為小數點後十位。
*/
public class LeibnizPi {
    public static void main(String[] args) {
        int[] terms = {10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000};

        double sum = 0.0;
        int current = 0;

        for (int i : terms) {
            // 從 current 將項數累加到 i
            for (int k = current; k < i; k++) {
                // 第 k 項的符號為 (-1)^k，分母為 2k+1
                double term = ((k % 2 == 0) ? 1.0 : -1.0) / (2.0 * k + 1.0);
                sum += term;
            }
            current = i;
            double pi = 4.0 * sum;
            System.out.printf("i = %6d, pi = %.10f%n", i, pi);
        }
    }
}

修改原因與說明
- 對原始需求進行實作：原始作業僅輸出輸入數字的位元，不涉及 pi 計算；新增實作以滿足題目中對 pi 的近似與輸出格式要求。
- 使用勒貝格斯級數逐步累加：採用累加方式（從上一個 i 繼續累加到下一個 i），避免每次重新從 k=0 計算，提升效能與穩定性。
- 輸出格式符合需求：使用 i 的六位寬度與 pi 的十位小數輸出，保留空白與換行規則，確保與題目樣本相符。
- 程式結構與可讀性：加入清晰的註解與有意義的變數命名，並提供檔案頭註解，方便維護與理解。

一句話改進建議
- 若未來需要更高精度或不同間隔的輸出，建議改用高精度浮點或分段穩定化技術，並讓輸入可自訂區間與步長以提升靈活性。
