0

【評分結果】
- 正確性：0/50
- 邏輯：0/30
- 格式：0/10
- 備註：0/10
總分：0/100

【修改與說明】
以下提供根據題目要求改寫的完整程式，並附上修改原因。新程式會依序輸出 a) i 為 10000, 20000, ..., 100000 時的 pi 值，並以指定格式顯示；b) 找出最小的 i 使 pi 的近似值四捨五入到小數點後五位為 3.14159，並輸出該 i。程式中採用增量累加的方式計算對應的 pi，避免每次都重新計算整個級數，且輸出格式依題目所需的寬度與小數位數。

完整程式碼（PiApprox.java）：
/*
 File: PiApprox.java
 功能: 計算 pi 的近似值，並依題目要求輸出
 作者: 設計者
 日期: 2025-11-11
 說明: 使用格林尼治-李卜尼茲級數近似 pi：
       pi = 4 * sum_{k=1..i} (-1)^(k+1) / (2k-1)
       輸出 a) i = 10000, 20000, ..., 100000 之 pi 值，格式符合題目
            b) 最小 i 使 pi 四捨五入至 5 位小數為 3.14159，並輸出該 i
*/

public class PiApprox {
    public static void main(String[] args) {
        final int maxIForA = 100000;  // a) 的最大 i
        int minIForB = -1;             // b) 的最小 i，尚未找到時為 -1

        double sum = 0.0;
        int nextOutputI = 10000;

        // 逐步累加直到找到最小的滿足條件的 i（超過 maxIForA 仍繼續直到找到 minIForB）
        for (int k = 1; ; k++) {
            double term = 1.0 / (2.0 * k - 1.0);
            if ((k & 1) == 1) sum += term;
            else sum -= term;

            double pi = 4.0 * sum;

            // 輸出 a) 部分，i 介於 10000 到 100000，且為 10000 的倍數
            if (k <= maxIForA && k == nextOutputI) {
                System.out.println("i = " + String.format("%6d", k) + ", pi = " + String.format("%.10f", pi));
                nextOutputI += 10000;
            }

            // b) 找到最小的 i 使 pi 四捨五入到小數點後5位為 3.14159
            long rounded = Math.round(pi * 100000); // 四捨五入後的整數表示（小數點後五位）
            if (minIForB == -1 && rounded == 314159) {
                minIForB = k;
                // 仍然繼續迴圈，直到找完 a) 的輸出條件再結束
            }

            // 結束條件：已完成 a) 的輸出且已找到 b) 的最小 i
            if (k > maxIForA && minIForB != -1) {
                break;
            }
        }

        // 輸出 b) 的結果
        System.out.println("i = " + String.format("%6d", minIForB));
    }
}

修改原因說明：
- 以增量累加方式計算 pi，避免每次從頭計算整個級數，提高效率。
- 依題目需求控制輸出格式：i 使用寬度 6 的欄位對齊，pi 小數點顯示 10 位，且符合「i =  10000, pi = 3.1414926536」這種對齊風格。
- 加入明確的程式標頭註解，描述檔案名稱、功能、日期與作者，提升可讀性與維護性。
- 取名與風格：使用清晰的類別名 PiApprox，符合 Java 命名慣例，提升可讀性。
- 移除原程式的輸入與與與題意無關的檢查邏輯，專注於題目要求的計算與輸出。

改進建議或反饋（一句話）：
- 建議將演算法改為逐步累加並同時輸出指定格式，並在單一主函式內完成 a) 與 b) 的需求，提升可維護性與可讀性。
