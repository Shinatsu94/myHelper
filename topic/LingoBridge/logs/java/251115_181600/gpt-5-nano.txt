總分數：85

改進意見（一句話）
此作業正確性高且輸出符合格式，但可進一步提升效能與可讀性，並加入程式標頭與註解以利維護。

評分明細與說明
- 正確性（50/50）：實作計算Leibniz級數並輸出題目所需的結果；同時完成尋找最小的 i 使 pi 在指定條件下的值。輸出格式符合題意。
- 邏輯（28/30）：主要邏輯正確，能以累加方式計算 pi 並在到達每個 10000 時輸出；找最小 i 的邏輯也正確。但原程式把兩部分混在同一 main 內，後續維護較不易，且缺少分解成小方法的清晰性。
- 格式（7/10）：變數命名尚可，但程式風格與縮排不夠一致，且缺乏註解與程式標頭。原本的類名較長且不具可讀性。
- 備註（0/10）：未提供程式檔案頭註解（檔名、功能、作者、日期等）。

修改與優化說明
- 將第(a)部分的計算改為單次迭代累加，避免原先的內層迴圈重複從頭計算到 i，將時間複雜度從 O(n^2) 降低到 O(n)。
- 將第(b)部分獨立成另一個簡單迴圈，使用與前面相同的符號規則，並以截斷到小數點後五位的方式判定是否等於 3.14159，避免與第一部分混雜。
- 增加程式標頭與適當註解，提升可讀性與維護性。
- 使用合理的變數命名與輸出格式，確保 i 顯示為六位寬度，pi 顯示到小數點後十位。
- 為避免極端情況的無限循環，對第二部分加入安全機制上限。

修改後的完整程式碼
注：以下程式包含標頭註解及分明的註解，並採用增量累加的方式計算。符合題意的輸出格式與位數要求。

/*
 * File: LeibnizPi.java
 * 功能: 以Leibniz公式計算圓周率 pi；(a) 輸出 i = 10000, 20000, ..., 100000 對應的 pi；(b) 找到最小的 i 使 pi(計算值)截斷至小數點後五位等於 3.14159。
 * 作者: 你的姓名
 * 日期: 2025-11-15
 * 備註: 輸出格式根據題目要求，i 使用寬度6輸出，pi 保留小數點後10位。
 */

public class LeibnizPi {
    public static void main(String[] args) {
        // Part (a): 使用單一累加變數，逐步累加到 n=100000，並在每個 10000 的倍數輸出 pi
        double sum = 0.0; // sum 為 ∑_{k=1}^{n} (-1)^{k-1} / (2k-1)
        for (int k = 1; k <= 100000; k++) {
            if ((k & 1) == 1) { // k 為奇數時加入正項
                sum += 1.0 / (2 * k - 1);
            } else { // k 為偶數時加入負項
                sum -= 1.0 / (2 * k - 1);
            }

            // 當 k 為 10000 的倍數時輸出對應的 pi 值
            if (k % 10000 == 0) {
                double pi = sum * 4.0;
                System.out.println(String.format("i = %6d, pi = %.10f", k, pi));
            }
        }

        // Part (b): 找出最小的 i，使 pi 的值截斷(小數點後五位)等於 3.14159
        double sumForB = 0.0;
        int minI = -1;
        // 不無限迴圈，設一個較大的上限避免極端情況
        for (int k = 1; k <= 2_000_000; k++) {
            if ((k & 1) == 1) {
                sumForB += 1.0 / (2 * k - 1);
            } else {
                sumForB -= 1.0 / (2 * k - 1);
            }
            double piVal = sumForB * 4.0;
            double truncated = Math.floor(piVal * 1e5) / 1e5; // 截斷到小數點後5位
            if (truncated == 3.14159) {
                minI = k;
                break;
            }
        }

        // 輸出 Part (b) 的結果：
        System.out.println();
        System.out.println("i = " + String.format("%6d", minI));
    }
}
