84

修改後完整程式碼及修改原因如下：

修改後程式碼
public class LeibnizPi {
    /*
     檔案名稱: LeibnizPi.java
     功能說明: 使用莱布尼茨級數逐項計算圓周率。部分(a) 輸出 i = 10000,...,100000 時的 pi，
              部分(b) 找到最小的 i 使 pi * 4 >= 3.14159 並僅輸出 i。
     作者: 論文助教
     日期: 2025-11-11
     註解: 使用 sum 變數累加，格式化輸出以符合題目要求的寬度與小數位數。
    */
    public static void main(String[] args) {
        // Part (a)
        int maxI = 100000;
        double sum = 0.0;
        int nextPrint = 10000;

        for (int i = 1; i <= maxI; i++) {
            double term = 1.0 / (2 * i - 1);
            // i 為奇數時加，為偶數時減
            if ((i & 1) == 1) {
                sum += term;
            } else {
                sum -= term;
            }

            if (i == nextPrint) {
                System.out.printf("i = %6d, pi = %.10f%n", i, sum * 4.0);
                nextPrint += 10000;
            }
        }

        System.out.println();

        // Part (b)
        sum = 0.0;
        int i = 1;
        while (true) {
            double term = 1.0 / (2 * i - 1);
            if ((i & 1) == 1) {
                sum += term;
            } else {
                sum -= term;
            }

            if (i >= 100000 && sum * 4.0 >= 3.14159) {
                // 依題意僅輸出 i 的值，符合樣本輸出
                System.out.printf("i = %6d%n", i);
                break;
            }
            i++;
        }
    }
}

修改部分說明與原因：
- 將輸出 i 的格式改為 "%6d"（以寬度 6 超長對齊，右靠），可讓 i 的顯示符合「6位數且不會以0補齊」的需求，與題目樣本輸出一致；原程式使用 "%06d" 會產生前方補零的輸出，不符合題意。
- 加入完整程式標頭註解（檔案名稱、功能、作者、日期、說明），提升可維護性與可讀性，符合備註部分的需求。
- 使用 sum 變數記錄累加的部分和，內容清晰且避免混用變數名（原程式把累加變成 pi 的概念，容易造成混淆）。
- 使用位元運算 (i & 1) 取模判斷奇偶性，比 i % 2 可能更有效率。
- Part (b) 輸出只顯示 i，而非同時輸出 pi，符合題目樣本的輸出格式要求，避免额外信息造成混淆。
- 為了可讀性，仍保留原本的計算邏輯與流程，讓學生能清楚看到 Leibniz 級數的逐項累加與收斂行為。

改進建議（概述）
- 建議把核心計算封裝成一個可重複使用的方法，例如 sumUpToN(int n) 回傳 sum_{i=1..n} (-1)^{i-1}/(2i-1)，以提升可重用性與測試性。
