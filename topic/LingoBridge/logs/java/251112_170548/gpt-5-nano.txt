90

以下為改寫與優化後的完整程式碼，接著說明修改的原因，最後給出單行改進建議。

修改後完整程式碼：
/*
檔案名稱: SelectionSort.java
功能說明: 建立一個任意長度的一維陣列，內容進行升序排序（Selection Sort），輸入長度與元素，輸出排序結果。
作者: 教師
日期: 2025-11-12
*/
import java.util.Scanner;

public class SelectionSort {

    // 在此方法中實作 Selection Sort，將 arr 由小到大排序，原地排序
    public static void selectionSort(int[] arr) {
        int n = arr.length;
        for (int i = 0; i < n - 1; i++) {
            int minIndex = i;
            for (int j = i + 1; j < n; j++) {
                if (arr[j] < arr[minIndex]) {
                    minIndex = j;
                }
            }
            // 交換
            int temp = arr[i];
            arr[i] = arr[minIndex];
            arr[minIndex] = temp;
        }
    }

    public static void main(String[] args) {
        // 使用 try-with-resources 確保 Scanner 關閉
        try (Scanner s = new Scanner(System.in)) {
            if (!s.hasNextInt()) {
                // 無有效輸入
                return;
            }
            int capacity = s.nextInt();
            if (capacity <= 0) {
                // 若長度為非正，直接輸出空行
                System.out.println();
                return;
            }

            int[] arr = new int[capacity];
            for (int i = 0; i < capacity; i++) {
                if (s.hasNextInt()) {
                    arr[i] = s.nextInt();
                } else {
                    // 若未提供足夠元素，預設為 0
                    arr[i] = 0;
                }
            }

            selectionSort(arr);

            // 使用 StringBuilder 組裝輸出，避免多次 I/O
            StringBuilder sb = new StringBuilder();
            for (int i = 0; i < arr.length; i++) {
                if (i > 0) sb.append(' ');
                sb.append(arr[i]);
            }
            System.out.println(sb.toString());
        }
    }
}

修改說明與原因：
- 新增程式標頭與註解：加入檔案說明、功能、作者與日期，提升可維護性與可讀性，符合作業要求的備註部分。
- 使用 try-with-resources 包裝 Scanner：確保資源適時釋放，避免資源洩漏與後續測資的穩定性問題。
- 輸入與邊界檢查：若長度(capacity)為非正數，直接輸出空行並結束，避免程式在非法輸入下發生錯誤。
- 輸出性能優化：使用 StringBuilder 組裝整個輸出字串再一次性輸出，降低 I/O 次數，並保持與題目格式一致（數字以空格分隔，末尾有換行）。
- 保持核心演算法與變數命名清晰：仍採用就地 Selection Sort，變數命名保持直觀，增強可讀性；同時加入註解說明每個步驟。

改進建議（一句話）：
建議在正式提交前，加入完整的程式標頭與適當的內部註解，並採用單次輸出字串的方式以提升穩定性與可讀性。
