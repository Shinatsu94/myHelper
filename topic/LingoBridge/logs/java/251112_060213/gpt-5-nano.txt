11
作業批改與改進建議

程式評分（依照您給的標準，分數以單項列出，總分 0-100）
- 正確性：0/50
  - 程式未根據題目需求去計算或輸出 pi 的近似值，也沒有輸出題目要求的格式與內容，與題意不符。
- 邏輯：5/30
  - 程式僅做字串是否為整數的驗證，屬於與題意無關的邏輯，還是有基本機制（判斷、輸出），但與題目需求毫無關聯。
- 格式：4/10
  - 程式結構與縮排大致正確，命名較為單純（s、ok），缺少更清晰的變數命名與註解。
- 備註：0/10
  - 題目沒有提供檔案註解、作者、日期等 metadata。原程式無任何註解或檔案頭註解。

總分：11/100

修改與優化內容（完整程式碼如下，請直接編譯執行）
修改說明與原因
- 完整實作題意：改寫成一個能輸出 i = 10000, 20000, ..., 100000 對應的 pi 值，並且 pi 輸出至小數點後十位，i 顯示為寬度為 6 的欄位以符合 i 6 位數顯示的需求。
- 使用莱布尼茲級數計算 pi：Pi = 4 * sum_{k=1..i} ((-1)^(k-1)) / (2k-1)，並且逐步累加以提高效率。
- 輸出格式化：使用 System.out.printf，格式為 i = %6d, pi = %.10f，符合「i 顯示到6位數」與「pi 顯示到小數點後10位」的要求，且與題目示例的對齊相符。
- 找到最小 i 使 pi 四捨五入到小數點後五位等於 3.14159：加入第二段迴圈，逐步累加直到 pi 四捨五入為 3.14159，並輸出該最小 i。此處使用四捨五入至五位小數的條件 (把 pi 乘以 100000 再四捨五入)，符合題意的「最小 i」要求。
- 程式註解與檔案頭：新增檔案開頭註解，描述檔名、功能、日期等資訊，提升可維護性。

完整修改後程式碼
// PiLeibniz.java
/*
File: PiLeibniz.java
Description: 利用 Leibniz 級數計算 pi，輸出 i = 10000, 20000, ..., 100000 對應的 pi 值，並找出使 pi 四捨五入至小數點後五位等於 3.14159 的最小 i。
Author: 教師姓名（填入）
Date: 2025-11-11
*/

public class PiLeibniz {
    public static void main(String[] args) {
        // Part 1: 輸出 i = 10000, 20000, ..., 100000 之 pi 值，pi 保留小數點後10位
        int maxI = 100000;
        double sum = 0.0;

        // 累計到 maxI，並在每個 10000 的倍數輸出結果
        for (int i = 1; i <= maxI; i++) {
            // 第 i 項：1/(2i-1) 乘以正負號
            sum += ((i % 2 == 1) ? 1.0 : -1.0) / (2.0 * i - 1.0);
            if (i % 10000 == 0) {
                double pi = 4.0 * sum;
                System.out.printf("i = %6d, pi = %.10f%n", i, pi);
            }
        }

        // Part 2: 找出使 pi 四捨五入至小數點後五位等於 3.14159 的最小 i
        sum = 0.0;
        int i = 1;
        while (true) {
            sum += ((i % 2 == 1) ? 1.0 : -1.0) / (2.0 * i - 1.0);
            double pi = 4.0 * sum;
            long roundedFive = Math.round(pi * 100000); // 四捨五入到5位小數，乘以 1e5 後取整
            if (roundedFive == 314159) {
                System.out.println("i = " + i);
                break;
            }
            i++;
        }
    }
}

說明修改該部分的原因
- 讓程式符合題目需求的輸出與格式要求，包含分段輸出與最小 i 的計算。
- 使用累加的方式計算 pi，避免每次重新計算整個級數，提升效能與可讀性。
- 加入註解與檔案頭，提升可維護性與專業度。

改進建議（用一句話）
- 建議在正式作業中再將輸入與輸出分離成方法，並加入例外處理與單元測試，以提高可重用性與健壯性。
