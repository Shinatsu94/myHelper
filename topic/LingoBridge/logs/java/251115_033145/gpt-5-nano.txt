85

改進建議：此題原程式雖能正確計算並輸出位置，但未實作實際下三角形陣列且缺少程式檔案標頭註解；建議同時建立實體陣列、加強輸入邊界檢查，並補上清楚的註解與標頭資訊以提高可讀性與可維護性。

修改與優化說明
- 建立實體的下三角形二維陣列並填入遞增值，符合題意「建立完整的下三角形二維陣列」的要求。
- 以雙層迴圈搜尋或直接計算找到 num 的位置，確保能在陣列中定位到該值。
- 增加輸入驗證：檢查 num 是否為正整數及是否在可容納範圍內，避免如 num=0 等非法輸入造成錯誤輸出。
- 增加程式標頭註解與適當註解，提升可讀性與維護性。

修改後完整程式碼
以下為修改後的完整程式碼，包含檔案標頭與註解，並實作實體的下三角形陣列建立與查找功能。

/*
 * File: LowerTriangleArray.java
 * 功能: 建立下三角形二維陣列，並找出指定數字的位置
 * 作者: 你的姓名
 * 日期: 2025-11-14
 */

import java.util.Scanner;

public class LowerTriangleArray {
    public static void main(String[] args) {
        Scanner in = new Scanner(System.in);

        // 讀取高度 n
        if (!in.hasNextInt()) {
            in.close();
            return;
        }
        int n = in.nextInt();

        // 讀取要尋找的數字 num
        if (!in.hasNextInt()) {
            in.close();
            return;
        }
        int num = in.nextInt();

        int total = n * (n + 1) / 2; // 下三角陣列中元素總數

        // 输入驗證：num 必須為正整數且在陣列範圍內
        if (num <= 0 || num > total) {
            System.out.println("not find " + num + " in array.");
            in.close();
            return;
        }

        // 建立完整的下三角形二維陣列，並填入 1..total
        int[][] tri = new int[n][];
        int val = 1;
        for (int i = 0; i < n; i++) {
            tri[i] = new int[i + 1];
            for (int j = 0; j <= i; j++) {
                tri[i][j] = val++;
            }
        }

        // 在陣列中尋找 num 的位置（列數與欄數皆從 1 開始）
        int row = -1, col = -1;
        boolean found = false;
        for (int i = 0; i < n && !found; i++) {
            for (int j = 0; j <= i; j++) {
                if (tri[i][j] == num) {
                    row = i + 1;
                    col = j + 1;
                    found = true;
                    break;
                }
            }
        }

        if (found) {
            System.out.println(num + "[" + row + ", " + col + "]");
        } else {
            // 理論上不會發生，因為之前已確認 num 在範圍內
            System.out.println("not find " + num + " in array.");
        }

        in.close();
    }
}
