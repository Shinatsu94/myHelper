55

改進建議：修正負數情況下右側最大值的初始值與更新邏輯，確保在包含負數時仍能正確產生每個位置右側的最大值；同時補充程式標頭與充分註解以符合標準。

修改說明與重點改動點：
- 正確性與邏輯：原程式初始 maxRight 設為 -1，對於右側最大值小於 -1 的情況會造成錯誤。改用先以 a[n-1] 作為初始右側最大值，並在輸出前將最後一個元素設為 -1，之後向左迭代時先輸出右側最大值再更新最大值，這樣就能正確處理包含負數的情況。
- 設計變更：引入程式標頭註解，明確描述檔案名稱、功能、作者與日期，並在程式內容中加入清楚的註解。
- 格式：維持清晰的縮排與變數命名，輸出改為在同一行以空白分隔，結尾加上換行以符合一般輸出習慣。

以下為修改後的完整程式碼與說明：

修改後完整程式碼：
import java.util.Scanner;

/*
 * 檔案名稱: Main.java
 * 功能說明: 依序讀取使用者輸入的長度與整數陣列，將每個元素替換為其右側元素中的最大值，
 *          最後一個元素替換為 -1，並輸出結果（同一行、以空格分隔）。
 * 作者: 你的名字
 * 日期: 2025-11-14
 */
public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        int n = sc.nextInt();          // 讀入陣列長度
        int[] a = new int[n];
        for (int i = 0; i < n; i++) {  // 讀入 n 個整數（可含負數）
            a[i] = sc.nextInt();
        }

        if (n == 0) {
            // 無元素時，直接結束（保險情況）
            System.out.println();
            return;
        }

        // 正確的右側最大值初始化與更新邏輯
        int maxRight = a[n - 1];   // 先以最右邊元素作為初始右側最大值
        a[n - 1] = -1;             // 最後一個元素替換為 -1
        for (int i = n - 2; i >= 0; i--) {
            int cur = a[i];          // 先保存原始值以便更新最大值
            a[i] = maxRight;         // 置換為右側最大值
            if (cur > maxRight) {
                maxRight = cur;        // 更新右側最大值
            }
        }

        // 輸出（同一行、以空白分隔、無多餘字樣）
        for (int i = 0; i < n; i++) {
            if (i > 0) System.out.print(" ");
            System.out.print(a[i]);
        }
        System.out.println();
    }
}