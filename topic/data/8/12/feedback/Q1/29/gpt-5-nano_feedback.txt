總分: 60

作業評分與分析
- 正確性 (50%): 28
  - 優點：基本實作了 Leibniz 公式的核心概念，能計算 pi 的近似值並對第一部分輸出多筆結果。
  - 問題點：原程式在計算時使用的項數方式與題目所要求的「i 為項數（n 條項，最後項為 2n-1）」不符，導致與題目給定的數值不一致；且輸出格式與題意要求（ASCII 的 pi、pi 精度、i 寬度等）不符。
- 邏輯 (30%): 28
  - 優點：邏輯結構清晰，分成計算函式與輸出迴圈，第二部分以逐步增加 i 直至滿足條件的方法找出最小 i。
  - 問題點：原始邏輯在第一部分的項數邊界與第二部分的終止條件上有可優化空間，且對輸出格式的要求未直接對應。
- 格式 (10%): 4
  - 優點：有基本的結構與縮排。
  - 問題點：輸出使用了希臘字母 π、未滿足題目要求的 ASCII "pi"；第一部分輸出位寬不符合「i 顯示到6位數」與「pi 顯示到小數點後10位」的規定；缺乏程式標頭註解。
- 備註 (10%): 0
  - 問題點：缺少檔案標題、作者、日期等註解。

優化後的完整程式碼
/*
 * File: csie_41343150_1017_1.java
 * 功能: 使用 Leibniz 公式近似圓周率，輸出指定 i 的結果與找出使 pi 四捨五入到小數點第5位等於 3.14159 的最小 i。
 * 作者: 教師
 * 日期: 2025-11-11
 */

public class csie_41343150_1017_1 {

    // 計算使用前 n 項的 Pi 近似值（k = 0 到 n-1，共 n 項）
    public static double cal(int n) {
        double sum = 0.0;
        for (int k = 0; k < n; k++) {
            double term = 1.0 / (2 * k + 1);
            if (k % 2 == 0) sum += term;
            else sum -= term;
        }
        return 4.0 * sum;
    }

    public static void main(String[] args) {
        // (a) 輸出 i = 10000, 20000, ..., 100000 的 pi 近似值
        for (int i = 10000; i <= 100000; i += 10000) {
            double p = cal(i);
            System.out.printf("i = %6d, pi = %.10f%n", i, p);
        }

        // (b) 找到最小的 i 使 pi 四捨五入到小數點第 5 位等於 3.14159
        int i = 1;
        while (true) {
            double p = cal(i);
            if (Math.round(p * 100000.0) / 100000.0 == 3.14159) {
                System.out.printf("i = %d%n", i);
                break;
            }
            i++;
            // 安全保護，避免無窮迴圈（實務上可移除）
            if (i > 10000000) {
                System.out.println("未在設定上限內找到符合條件的 i。");
                break;
            }
        }
    }
}

修改說明與原因
- 將計算函式改為以「n 為項數」的含義進行迭代（k = 0 到 n-1），以符合題目「i 為項數」的要求，避免與示例輸出產生不符的結果。
- 輸出格式改為 ASCII 的 pi，並依題意限定輸出格式：
  - 第一部分 i 使用寬度為 6 的整數輸出，符合「i 顯示到6位數」的需求，且 pi 顯示到小數點後10位。
  - 第二部分仍以逐步遞增的 i 找出最小值，並僅輸出「i = …」。
- 增加檔案標頭註解，說明檔案名稱、功能、作者與日期，提升可維護性與可讀性。
- 保留原邏輯的核心思路，但提高可讀性並符合題目輸出格式，避免混亂的字元符號與長度設定。
- 增加必要的輸出穩健性提示（超過上限時的防護輸出），避免極端情況造成無窮迴圈。

一句話改進建議
讓輸出格式嚴格遵循題目規格（使用 ASCII 的 pi、i 的欄寬與 pi 的小數位數），並以 n 為項數的概念統一第一部分與題目之對應關係，同時補上程式頭註解以提升可維護性。