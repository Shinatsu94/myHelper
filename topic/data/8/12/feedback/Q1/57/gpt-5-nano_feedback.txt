86

修改說明與評分依據
- 正確性 (50%): 50
  - 程式正確實作 Leibniz 公式計算 pi，能輸出每 10000 項的近似值，並找出第一個使 pi 四捨五入到小數點後第 5 位等於 3.14159 的 i。結果與題意相符。
- 邏輯 (30%): 28
  - 原程式使用 while(true) 搭配多個旗標變數，邏輯稍顯繁瑣且易造成維護困難。改用更清晰的 for 迴圈結構，並以四捨五入方式判定第 5 位是否為 3.14159，邏輯更直覺、穩健。
- 格式 (10%): 8
  - 程式整體格式良好、變數命名清楚並有註解。不過缺少標頭註解與檔案規範註解，因此扣分。
- 備註 (10%): 0
  - 缺少檔案名稱、功能、作者、日期等標頭註解，未符合作業規範的說明註解要求。

總分: 86

修改後完整程式碼
以下為優化後的完整程式，包含標頭註解、改用 for 迴圈、以及以四捨五入判斷最小 i 的邏輯，並維持原有輸出格式。

/*
File: LeibnizPiCalculator.java
功能: 使用 Leibniz 公式計算 pi，輸出每 10000 項的近似值，並找出第一個 i
      使 pi 四捨五入到小數點後第 5 位等於 3.14159。
作者: [你的姓名]
日期: 2025-11-11
*/

public class LeibnizPiCalculator {
    public static void main(String[] args) {
        double t = 0.0; // Leibniz 級數部分和
        double pi = 0.0;
        boolean found = false;

        // 輸出每 10000 項的 pi 值，並尋找最小 i 使 pi 四捨五入到小數點後 5 位為 3.14159
        for (int i = 1; i <= 100000; i++) {
            double term = (i % 2 != 0) ? (1.0 / (2 * i - 1)) : (-1.0 / (2 * i - 1));
            t += term;
            pi = 4.0 * t;

            // 每 10000 項輸出一次
            if (i % 10000 == 0) {
                System.out.printf("i = %6d, pi = %.10f\n", i, pi);
            }

            // 找出最小的 i，使 pi 四捨五入到小數點後 5 位等於 3.14159
            if (!found) {
                double piRounded = Math.round(pi * 100000.0) / 100000.0;
                if (piRounded == 3.14159) {
                    // 與題目的輸出格式對齊，先空一行再輸出 i
                    System.out.println();
                    System.out.println("i = " + i);
                    found = true;
                    break;
                }
            }
        }
    }
}

修改原因說明
- 循環結構改為 for 迴圈，讓整體流程更清晰、易於維護，且能直接設定迴圈上限，避免無限迴圈風險。
- 將判定「最小 i 使 pi 三位小數等於 3.14159」改用四捨五入至五位小數的結果比對，讓判定更貼近題意中的四捨五入要求，而非僅靠絕對誤差範圍的估算。
- 加入檔案標頭註解，符合作業規範的註解需求，提升可閱讀性與可維護性。
- 保留輸出格式與對齊方式，確保與題目要求的輸出樣式一致。

改進建議（一句話）
- 建議在判定最小 i 的部分，改為使用四捨五入到指定小數位再比較，並在輸出上嚴謹區分「part (a) 的多行輸出」與「part (b) 的單行輸出」，以避免未預期的輸出結構差異。